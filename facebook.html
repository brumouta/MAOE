<!DOCTYPE HTML>
<html>
<head>
<title>Facebook Connect</title>

<script src="http://connect.facebook.net/en_US/all.js"></script>
<script>
FB.init({
        appId  : '466994206697522',
        status: true, cookie: false, xfbml: false, oauth: true
});

function statusFacebook() {
        FB.getLoginStatus(function(response) {
        if (response.status === 'connected') {
                window.location.replace("http://brumouta.github.com/MAOE/facebook.html");
        } else if (response.status === 'not_authorized') {
                loginFacebook(); // nao autorizado, solicitar login
        } else {
                loginFacebook(); // nao autorizado, solicitar login
        }})
}

function loginFacebook() {
        FB.login(function(response) {
                if (response.authResponse) {
                        window.location.replace("http://brumouta.github.com/MAOE/facebook.html");
                }
        }, {scope: 'email,publish_stream,user_photos,friends_about_me' });
}

function logout() {
    FB.logout(function(response) {
        console.log('User is now logged out');
    });
}

</script>


<body>
	<a href="#" onClick="statusFacebook();">Entrar pelo Facebook</a>
	<a href="#" onClick="logout();">Sair</a>
	<script type="text/javascript">
	FB.ui(
  {
   method: 'feed',
   name: 'The Facebook SDK for Javascript',
   caption: 'Bringing Facebook to the desktop and mobile web',
   description: (
      'A small JavaScript library that allows you to harness ' +
      'the power of Facebook, bringing the user\'s identity, ' +
      'social graph and distribution power to your site.'
   ),
   link: 'https://developers.facebook.com/docs/reference/javascript/',
   picture: 'http://www.fbrell.com/public/f8.jpg'
  },
  function(response) {
    if (response && response.post_id) {
      alert('Post was published.');
    } else {
      alert('Post was not published.');
    }
  }
);
	</script>
</body>

</html>
